# 보안 정책

## 보안 개요

BlockPick은 사용자의 개인정보와 자산을 보호하기 위해 최신 보안 기술과 업계 표준을 준수합니다.

### 보안 원칙

```
1. 데이터 암호화: 모든 중요 데이터 암호화
2. 최소 권한: 필요한 최소한의 정보만 수집
3. 투명성: 보안 정책 공개
4. 정기 감사: 주기적인 보안 점검
```

## 개인정보 보호

### 수집 정보

#### 필수 정보
```
회원가입 시:
- 이메일 주소
- 비밀번호 (암호화 저장)
- 닉네임

본인 인증 시:
- 이름 (실명)
- 생년월일
- 휴대폰 번호

상품 예약 시:
- 예약자 정보 (상품별 상이)
- 연락처
```

#### 선택 정보
```
- 프로필 사진
- 선호 카테고리
- 마케팅 수신 동의
```

### 데이터 암호화

#### 비밀번호 암호화

```
알고리즘: bcrypt
Salt Rounds: 12
복호화: 불가능 (단방향 해시)

예시:
원본: "mypassword123"
저장: "$2b$12$KIXxFz.../abc123..."
→ 관리자도 원본 비밀번호를 알 수 없음
```

#### 개인정보 암호화

```
알고리즘: AES-256
모드: CBC
키 관리: AWS KMS 또는 HashiCorp Vault

암호화 대상:
- 실명
- 주민등록번호 (본인 인증 시)
- 여권 번호 (항공권 예약 시)
- 계좌 번호 (환불 시)
```

#### 통신 암호화

```
프로토콜: HTTPS (TLS 1.3)
인증서: Let's Encrypt (자동 갱신)
강제 HTTPS: 모든 HTTP 요청 자동 리다이렉트

설정:
- Perfect Forward Secrecy (PFS) 활성화
- HSTS (HTTP Strict Transport Security) 적용
- 최소 TLS 버전: 1.2
```

### 데이터 보관 및 삭제

#### 보관 기간

```
회원 정보:
- 탈퇴 후 즉시 삭제 (단, 법령 준수 제외)

거래 정보:
- 5년 (전자상거래법)

게임 기록:
- 영구 보관 (블록체인, 익명화)

마케팅 정보:
- 동의 철회 시 즉시 삭제
```

#### 삭제 요청

```
마이페이지 > 설정 > 개인정보 관리
   ↓
삭제 요청 항목 선택:
- 특정 정보 삭제
- 계정 탈퇴 (전체 삭제)
   ↓
본인 인증
   ↓
즉시 삭제 (복구 불가)
```

**삭제 예외** (법령)
```
❌ 삭제 불가 (5년 보관 의무):
- 계약 또는 청약철회 등에 관한 기록
- 대금결제 및 재화 등의 공급에 관한 기록
- 소비자 불만 또는 분쟁처리에 관한 기록
```

## 계정 보안

### 비밀번호 정책

#### 최소 요구사항

```
길이: 8자 이상
구성: 영문 + 숫자 + 특수문자 조합

예시:
✅ "MyP@ssw0rd123"
❌ "12345678" (숫자만)
❌ "password" (단순)
```

#### 추가 보안 규칙

```
- 연속된 문자 금지 (abc, 123)
- 동일 문자 반복 금지 (aaa, 111)
- 이메일/닉네임 포함 금지
- 흔한 비밀번호 사전 검사
```

#### 비밀번호 변경

```
권장: 3개월마다 변경
강제: 1년마다 변경 권장 알림

변경 시:
- 이전 비밀번호와 달라야 함
- 최근 3개 비밀번호 재사용 불가
```

### 2단계 인증 (2FA)

#### 지원 방식

```
1. SMS 인증
   - 휴대폰 번호로 6자리 코드 발송
   - 유효 시간: 3분

2. 이메일 인증
   - 이메일로 6자리 코드 발송
   - 유효 시간: 10분

3. OTP (향후 지원 예정)
   - Google Authenticator
   - Authy
```

#### 2FA 활성화

```
마이페이지 > 보안 설정 > 2단계 인증
   ↓
인증 방식 선택 (SMS/이메일)
   ↓
휴대폰 또는 이메일 인증
   ↓
활성화 완료
```

#### 2FA 필수 적용

```
자동 활성화 시점:
- 고액 결제 (100,000원 이상)
- 고가 상품 당첨 시
- 환불 요청 시
- 비밀번호 변경 시
```

### 로그인 보안

#### 로그인 시도 제한

```
5회 연속 실패 시:
→ 계정 일시 잠금 (30분)

10회 연속 실패 시:
→ 계정 영구 잠금
→ 고객센터 문의 필요
```

#### 의심스러운 로그인 감지

```
감지 요소:
- 새로운 기기
- 새로운 IP 주소
- 평소와 다른 위치
- 평소와 다른 시간대

조치:
→ 이메일 알림 발송
→ 2FA 강제 적용
→ 로그인 승인 요청
```

#### 세션 관리

```
세션 유지 시간:
- 일반: 24시간
- 자동 로그인: 30일

세션 만료 조건:
- 시간 경과
- 로그아웃
- 비밀번호 변경
- 의심스러운 활동 감지
```

### 기기 관리

#### 로그인 기기 확인

```
마이페이지 > 보안 설정 > 로그인 기기
   ↓
현재 로그인된 기기 목록:
- 기기 종류 (PC, 모바일)
- 브라우저
- IP 주소
- 위치 (대략적)
- 마지막 접속 시간
```

#### 원격 로그아웃

```
의심스러운 기기 발견 시:
→ "로그아웃" 버튼 클릭
→ 해당 기기에서 즉시 로그아웃
→ 비밀번호 변경 권장
```

## 결제 보안

### PCI-DSS 준수

```
PCI-DSS Level 1 인증:
- 토스페이먼츠 (국내)
- Stripe (해외)

BlockPick의 역할:
- 카드 정보 직접 저장 안 함
- 토큰만 저장
- 결제는 PG사에서 처리
```

### 카드 정보 보호

#### 토큰화 (Tokenization)

```
카드 번호:
4532-****-****-1234
→ 저장하지 않음

대신 토큰 저장:
tok_1A2B3C4D5E6F...
→ 카드 정보 복원 불가
→ 결제 시 PG사가 토큰으로 처리
```

#### 3D Secure 2.0

```
추가 본인 인증:
- 카드사 앱 인증
- SMS 인증
- 생체 인증

적용 시점:
- 고액 결제 (50,000원 이상)
- 위험 거래 감지 시
```

### 결제 모니터링

#### 이상 거래 탐지

```
AI 기반 모니터링:
- 평소와 다른 결제 패턴
- 단시간 내 다수 결제
- 고액 결제
- 해외 IP에서 결제

조치:
→ 결제 일시 중단
→ 본인 확인 요청
→ 2FA 강제 적용
```

#### 결제 알림

```
모든 결제 시 즉시 알림:
- 이메일 (항상)
- SMS (고액 결제 시)
- 앱 푸시 (활성화 시)

알림 내용:
- 결제 금액
- 결제 시간
- 결제 수단 (카드 뒤 4자리)
- 승인 번호
```

## 부정 행위 방지

### 다계정 방지

#### 감지 기술

```
추적 요소:
- IP 주소
- 기기 고유 ID (Device Fingerprint)
- 브라우저 쿠키
- 결제 수단
- 휴대폰 번호

AI 패턴 분석:
- 동일 IP에서 다수 계정
- 동일 기기에서 번갈아 로그인
- 동일 결제 수단 사용
```

#### 조치

```
의심 계정 발견 시:
1차: 경고 및 본인 인증 요구
2차: 계정 일시 정지 (7일)
3차: 계정 영구 정지

부정 당첨 적발 시:
- 즉시 계정 영구 정지
- 당첨 취소
- 법적 조치 (사기죄)
```

### IP 추적

```
모든 활동에 IP 기록:
- 회원가입
- 로그인
- 게임 참여
- 결제

의심스러운 패턴:
- 짧은 시간에 IP 변경
- 해외 IP (VPN) 사용
- TOR 네트워크 사용

조치:
→ 추가 본인 인증 요구
→ 활동 제한
```

### 봇 방지

#### reCAPTCHA

```
적용 시점:
- 회원가입
- 로그인 (5회 실패 후)
- 게임 참여
- 결제

버전: reCAPTCHA v3
→ 사용자 경험 방해 최소화
→ 백그라운드에서 봇 감지
```

#### Rate Limiting

```
API 호출 제한:
- 게임 참여: 분당 5회
- 로그인 시도: 분당 10회
- 결제: 분당 3회

초과 시:
→ 일시 차단 (5분)
→ 반복 시 영구 차단
```

## 블록체인 보안

### 스마트 컨트랙트 감사

```
배포 전 감사:
- 외부 보안 업체 감사
- 코드 리뷰
- 취약점 스캔

정기 감사:
- 6개월마다 재감사
- 업그레이드 시 재감사
```

### Private Key 관리

#### Hot Wallet vs Cold Wallet

```
Hot Wallet (온라인):
- 소액 운영 자금
- 즉시 거래 처리
- 보안: HSM (Hardware Security Module)

Cold Wallet (오프라인):
- 대부분의 자금
- 오프라인 보관
- Multi-Signature (다중 서명)
```

#### Multi-Signature

```
자금 이동 시:
- 3명 중 2명 서명 필요
- 대표이사 + 기술이사 + 재무이사
- 단독 결정 불가

긴급 상황:
- 4명 중 3명 서명
- 추가: 보안 책임자
```

### 스마트 컨트랙트 업그레이드

```
Proxy 패턴 사용:
- 로직만 업그레이드 가능
- 데이터는 유지
- 사용자 동의 없이 업그레이드 불가

업그레이드 절차:
1. 제안 (Proposal)
2. 검토 기간 (7일)
3. 투표 (커뮤니티)
4. 실행 (72시간 후)
```

## 서버 및 인프라 보안

### 클라우드 보안

```
제공자: AWS
리전: ap-northeast-2 (서울)

보안 기능:
- VPC (가상 사설 네트워크)
- Security Groups (방화벽)
- WAF (Web Application Firewall)
- DDoS Protection (Shield)
```

### 네트워크 보안

#### 방화벽

```
Inbound Rules:
- HTTPS (443): 허용
- HTTP (80): HTTPS로 리다이렉트
- SSH (22): 특정 IP만 허용
- 기타: 모두 차단

Outbound Rules:
- 필요한 서비스만 허용
- 화이트리스트 방식
```

#### DDoS 방어

```
계층별 방어:
- L3/L4: AWS Shield
- L7: Cloudflare
- Application: Rate Limiting

대응 시간:
- 자동 탐지: 즉시
- 트래픽 필터링: 60초 이내
```

### 서버 보안

#### OS 보안

```
운영체제: Ubuntu 22.04 LTS
업데이트: 자동 보안 패치

강화 (Hardening):
- 불필요한 서비스 비활성화
- 최소 권한 원칙
- SSH 키 기반 인증 (비밀번호 비활성화)
- Fail2ban (무차별 대입 공격 방지)
```

#### 애플리케이션 보안

```
보안 헤더:
- Content-Security-Policy
- X-Frame-Options: DENY
- X-Content-Type-Options: nosniff
- Strict-Transport-Security

입력 검증:
- SQL Injection 방지
- XSS 방지
- CSRF 토큰
```

### 데이터베이스 보안

```
암호화:
- At-Rest: AES-256 (저장 시)
- In-Transit: TLS 1.3 (전송 시)

접근 제어:
- 애플리케이션 서버만 접근 허용
- 읽기 전용 레플리카 분리
- 정기 백업 (일일, 암호화)

감사:
- 모든 쿼리 로깅
- 의심스러운 쿼리 알림
```

## 로그 및 모니터링

### 로그 수집

```
수집 대상:
- 로그인/로그아웃
- 게임 참여
- 결제
- 개인정보 접근
- 보안 이벤트

보관 기간:
- 일반 로그: 6개월
- 보안 로그: 1년
- 거래 로그: 5년
```

### 실시간 모니터링

```
모니터링 도구:
- Datadog (서버 모니터링)
- Sentry (에러 추적)
- CloudWatch (AWS 리소스)

알림:
- 보안 이벤트: 즉시 (SMS + 이메일)
- 성능 이슈: 5분 이내
- 일반 이벤트: 1시간 이내
```

### 보안 대시보드

```
실시간 확인:
- 로그인 시도 통계
- 비정상 거래
- API 호출 패턴
- 에러율
- 서버 상태

담당자:
- 보안팀 24/7 모니터링
- 이상 징후 즉시 대응
```

## 사고 대응

### 사고 대응 절차

#### 1단계: 감지

```
감지 방법:
- 자동 모니터링 알림
- 사용자 신고
- 정기 감사

초기 대응:
- 보안팀 소집 (15분 이내)
- 영향 범위 파악
- 긴급 회의
```

#### 2단계: 격리

```
즉시 조치:
- 침해된 시스템 격리
- 네트워크 차단
- 계정 일시 정지
- 트래픽 차단

추가 피해 방지:
- 백업 시스템 활성화
- 안전 모드 전환
```

#### 3단계: 복구

```
복구 작업:
- 취약점 패치
- 시스템 재구축
- 데이터 복원 (백업)
- 보안 강화

검증:
- 보안 재검사
- 침투 테스트
- 안정성 확인
```

#### 4단계: 공지

```
사고 공지:
- 홈페이지 공지
- 이메일 발송
- 앱 푸시 알림

포함 내용:
- 사고 개요
- 영향 범위
- 조치 사항
- 재발 방지 대책
```

#### 5단계: 사후 조치

```
분석:
- 근본 원인 분석
- 대응 절차 검토
- 개선 사항 도출

보완:
- 보안 정책 업데이트
- 시스템 강화
- 교육 실시
```

### 사용자 보호 조치

```
개인정보 유출 시:
- 즉시 공지 (24시간 이내)
- 무료 신용 모니터링 제공 (1년)
- 피해 보상 지원

금전적 피해 시:
- 즉시 조사
- 피해 금액 보상
- 재발 방지 대책
```

## 규정 준수

### 국내 법령

```
✅ 개인정보보호법
✅ 정보통신망법
✅ 전자금융거래법
✅ 전자상거래법
✅ 위치정보보호법
```

### 국제 표준

```
✅ GDPR (유럽)
✅ CCPA (캘리포니아)
✅ PCI-DSS (결제 카드)
✅ ISO/IEC 27001 (정보보안)
```

### 정기 감사

```
내부 감사: 분기별
외부 감사: 연 1회
침투 테스트: 연 2회

감사 기관:
- KISA (한국인터넷진흥원)
- 외부 보안 업체
- ISO 인증 기관
```

## 사용자 보안 가이드

### 안전한 이용을 위한 팁

#### ✅ DO (권장)

```
✅ 강력한 비밀번호 사용
✅ 2단계 인증 활성화
✅ 공용 PC 사용 후 로그아웃
✅ 공식 앱/웹사이트만 이용
✅ 정기적인 비밀번호 변경
✅ 의심스러운 활동 즉시 신고
```

#### ❌ DON'T (주의)

```
❌ 비밀번호 공유
❌ 공용 Wi-Fi에서 로그인
❌ 출처 불명 링크 클릭
❌ 의심스러운 이메일 답장
❌ 개인정보 SNS 공유
❌ 자동 로그인 (공용 PC)
```

### 피싱 방지

```
의심스러운 이메일 특징:
❌ 긴급을 요구 ("지금 당장!")
❌ 개인정보 요구
❌ 이상한 발신자 주소
❌ 맞춤법/띄어쓰기 오류
❌ 의심스러운 링크

BlockPick 공식:
✅ 이메일: @blockpick.io만 사용
✅ 개인정보 요구 안 함
✅ 긴급 조치 요구 안 함
```

## 자주 묻는 질문

### Q1. 제 개인정보는 안전한가요?
**A.** 네, AES-256 암호화로 저장되며, TLS 1.3으로 전송됩니다. 관리자도 암호화된 정보의 원본을 볼 수 없습니다.

### Q2. 카드 정보를 직접 저장하나요?
**A.** 아니요, BlockPick은 카드 정보를 직접 저장하지 않습니다. PCI-DSS 인증된 PG사(토스페이먼츠, Stripe)에서 처리합니다.

### Q3. 다른 기기에서 로그인되었다는 알림을 받았어요.
**A.** 본인이 아니라면 즉시 비밀번호를 변경하고, 마이페이지에서 해당 기기를 로그아웃시키세요. 고객센터에도 신고해주세요.

### Q4. 2단계 인증을 활성화해야 하나요?
**A.** 선택이지만 강력히 권장합니다. 고액 결제나 환불 시에는 자동으로 요구됩니다.

### Q5. 피싱 이메일을 받았어요.
**A.** 절대 클릭하지 마시고 security@blockpick.io로 즉시 신고해주세요.

### Q6. 탈퇴하면 제 정보가 완전히 삭제되나요?
**A.** 네, 즉시 삭제됩니다. 단, 법령에 따라 5년간 보관해야 하는 거래 기록은 예외입니다.

### Q7. 블록체인에 제 정보가 공개되나요?
**A.** 아니요, 게임 참여 기록만 익명화되어 기록됩니다. 개인 식별 정보는 절대 블록체인에 기록되지 않습니다.

### Q8. 보안 취약점을 발견했어요.
**A.** security@blockpick.io로 신고해주세요. 확인 후 포상금을 지급합니다.

## 보안 신고 및 문의

### 보안 신고

```
📧 이메일: security@blockpick.io
🚨 긴급: 1234-5678 (24시간)

신고 포상금:
- 치명적 취약점: 최대 1,000,000원
- 중요 취약점: 최대 500,000원
- 일반 취약점: 최대 100,000원
```

### 보안 문의

```
📧 이메일: privacy@blockpick.io
💬 카카오톡: @blockpick
☎️ 고객센터: 1234-5678 (평일 09:00-18:00)
```

---

👉 [다음: 공정성 검증 가이드](./11-fairness.md)

**BlockPick** - 안전하고 투명한 플랫폼 🔐
